<HTML
<HEAD>
  <TITLE>Lab 4: Functions and Grammars</TITLE>
</HEAD>

<BODY BGCOLOR="white" LINK="red" VLINK="darkred" ALINK="blue">

<P ALIGN="right">Name: _________________________________________</P>

<P><BR><BR></P>

<center><h2>Lab 4: Functions and Grammars</h2>
        <h3>Lab to accompany <a href="http://dave-reed.com/book">
        A Balanced Introduction to Computer Science, 2nd ed.</a><br />
        by David Reed, Pearson Prentice-Hall, &copy;2008.</h3></center>
<P><BR></P>

<P>In Lab 1, you executed 
JavaScript code that generated random sequences of characters, some of which turned 
out to be words.  In this lab, you will take the next step of generating random 
sentences based on grammar rules.  To accomplish this, you will write simple 
functions that call library functions and each other, and so build complexity out 
of 
simplicity.   </P>

<P><HR></P>

<H3> Random Parts of Speech </H3>

<P>Chapter 9 introduced the <TT>random.js</TT> 
library, which contains several useful functions for generating random values.  For 
example, the <TT>RandomOneOf</TT> function randomly selects an item from a list of 
options.   Consider the following JavaScript function:

<XMP>
    function noun()
    // Assumes: nothing
    // Returns: a random noun
    {
        return RandomOneOf(["man", "woman", "ball"]);
    }
</XMP>

<P>This function uses <TT>RandomOneOf</TT> to select at random from a list of three 
nouns.  The call  <TT>noun()</TT> will thus return one of the three nouns each time 
it is executed.

<P><BR>
<BLOCKQUOTE>
<B><FONT COLOR="red">EXERCISE 1:</FONT></B> &nbsp;&nbsp;
Create a Web page named <TT>grammar.html</TT> and enter the <TT>noun</TT> function 
definition in the HEAD of that page.  In the BODY of the page, place a text area and
a button of the following form (where <tt>outputArea</tt> is the name of the text area):

<p>
<xmp>
    <input type="button" value="Noun" 
           onclick="document.getElementById('outputArea').value = noun();" />
</xmp>

<P> Click the button 10 times and list the displayed values below:

<P><BR><BR><BR><BR><BR><BR><BR><BR></P>

</BLOCKQUOTE>


<P><BR>
<BLOCKQUOTE>
<B><FONT COLOR="red">EXERCISE 2:</FONT></B> &nbsp;&nbsp;
Similar to the <TT>noun</TT> function above, define additional functions called 
<TT>verb</TT> and <TT>article</TT> that return a random verb (e.g., "hit", "liked", 
"smelled") and article (e.g., "the", "a", "some"), respectively.  Feel free to add 
to the vocabulary of these functions. Add buttons corresponding to each of your new functions.

<P><I>Important:</I> Each function should return its randomly generated word, NOT 
directly display it in the text area!


<P><BR><BR><BR></P>

</BLOCKQUOTE>

<P><HR></P>

<H3> Grammar Rules </H3>

<P> If you recall from your grade school days, sentences can be parsed according to 
grammar rules - syntactic rules that specify how the different parts of speech can 
fit together.  For example, a simple sentence can be constructed with an article, 
followed by a noun, followed by a verb, such as "The ball smelled." or "Some woman 
hit."  This can be written as a grammar rule in the following notation:

<XMP>
    	sentence <---  article + noun + verb
</XMP>

<P><BR><BR>
<BLOCKQUOTE>
<B><FONT COLOR="red">EXERCISE 3:</FONT></B> &nbsp;&nbsp; 
Define a function called <TT>sentence</TT> that returns a sentence of the above 
form.  Your function should have no inputs (similar to <TT>noun</TT>, 
<TT>article</TT>, and <TT>verb</TT>), and should work by calling each of the 
previously defined functions and concatenating the resulting words with spaces in 
between. Note that the format of a sentence is not random, it will always consist 
of 
an adjective followed by a noun followed by a verb.  The random appearance of 
sentences is due to the fact that the individual words are randomly generated by 
the 
other functions.</P>

<P><I>Important:</I> Your function should <I>return</I> the sentence, NOT 
directly display it in the text area!

<P> Once you have defined your function, add a corresponding button to the body of the page
that calls the <tt>sentence</tt> function and displays the returned sentence in the
text area.  
Click the button 10 times and list the displayed sentences below:

<P><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR></P>

</BLOCKQUOTE>

<P><BR>
<BLOCKQUOTE>
<B><FONT COLOR="red">EXERCISE 4:</FONT></B> &nbsp;&nbsp; 
Now consider the following grammar rules that define a more complex sentence 
structure.
	
<XMP>
    sentence    <---  nounPhrase + verbPhrase 
    nounPhrase  <---  article + adjective + noun + prepPhrase
    verbPhrase 	<---  verb + nounPhrase
    prepPhrase  <---  preposition + article + noun
</XMP>

<P>Update your page to generate sentences based on these grammar rules.  In 
particular, you must define new functions called <TT>adjective</TT>, 
<TT>preposition</TT>, <TT>nounPhrase</TT>, <TT>verbPhrase</TT>, and 
<TT>prepPhrase</TT> that return the appropriate type of word or phrase. </P>

<P> For example, the call <TT>sentence()</TT> might produce "the big man by a tree 
hit a green ball above some woman" or "some nice woman beside the ball liked a big 
man by the house".  Once you have defined/modified the necessary functions, 
click the sentence button 10 times and list the displayed sentences below:

<P><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR></P>

</BLOCKQUOTE>

<P><HR></P>

<H3> Optional Parts of Speech </H3>

<P> The grammar rules in the previous exercise leave no options when constructing a 
sentence.  Every sentence generated using these rules will have the exact same 
structure, even the same number of words (13).  In practice, sentences and phrases 
can be defined with <I>optional</I> parts.  For example, the adjective and 
prepositional phrase in a noun phrase are not necessary, since "the man", "the nice 
man", "the man by the tree", and "the nice man by the tree" are equally valid.  
Similarly, a verb phrase does not always require a noun phrase after the verb.  For 
example, consider the following generalized grammar rules:

<XMP>
    sentence    <---  nounPhrase + verbPhrase 
    nounPhrase  <---  article + [adjective] + noun + [prepPhrase]
    verbPhrase 	<---  verb + [nounPhrase]
    prepPhrase  <---  preposition + article + noun
</XMP>

Here, the notation <TT>[PART_OF_SPEECH]</TT> is used to denote an optional part of 
speech.  Note: The brackets used in grammar rules should not be confused with 
JavaScript brackets, which are used to represent lists in JavaScript code.  </P>

<P><BR>
<BLOCKQUOTE>
<B><FONT COLOR="red">EXERCISE 5:</FONT></B> &nbsp;&nbsp; 
From looking at these grammar rules, what is the fewest number of words possible in 
a sentence?  Similarly, what is the greatest number of words possible in a 
sentence.  
Justify your answers.

<P><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR></P>

</BLOCKQUOTE>

<P> In order to generate sentences based on these more flexible grammar rules, you 
must modify the <TT>nounPhrase</TT> and <TT>verbPhrase</TT> functions so that they 
sometimes include the optional parts of speech and sometimes they don't.   The 
<tt>RandomOneOf</tt> function will also prove useful here.  In particular, whenever 
you want an optional part of speech, you can call the <tt>RandomOneOf</tt> function 
with two options to select from: the part of speech, and the empty string.  For 
example, the following will either return an adjective (with a leading space) 
or the empty string.

<XMP>
    RandomOneOf([ " "+adjective(), "" ])
</XMP>



<P><BR>
<BLOCKQUOTE>
<B><FONT COLOR="red">EXERCISE 6:</FONT></B> &nbsp;&nbsp; 
Modify the <TT>nounPhrase</TT> and <TT>verbPhrase</TT> functions to match the new 
grammar rules.  In particular, you should include calls to <tt>RandomOneOf</tt> so 
that the specified parts of speech are optional. Using the new versions of these 
functions, click the sentence button 20 times and list the displayed sentences below:</P>

<P><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>
<BR><BR><BR></P>

</BLOCKQUOTE>




<P><BR>
<BLOCKQUOTE>
<B><FONT COLOR="red">EXERCISE 7:</FONT></B> &nbsp;&nbsp; 
Referring to your 20 sentences from the previous exercise, answer the following 
questions:

<UL>
<LI> What was the shortest sentence you obtained?  Is its length close to the 
minimum length that you predicted? <BR><BR><BR><BR><BR><BR><BR><BR><BR>
<LI> What was the longest sentence you obtained?   Is its length close to the 
maximum length that you predicted? <BR><BR><BR><BR><BR><BR><BR><BR><BR>
<LI> How many times did a noun appear in the 20 sentences?  Is this close to what 
you would expect?  Explain. <BR><BR><BR><BR><BR><BR><BR><BR><BR>
<LI> How many times did an adjective appear in the 20 sentences?  Is this close to 
what you would expect?  Explain.  <BR><BR><BR><BR><BR><BR><BR><BR><BR>
</UL>

<P><BR><BR><BR><BR></P>

</BLOCKQUOTE>

<P><HR></P>

<I>Hand in a printout of <TT>grammar.html</TT>, attached to these sheets.</I>
</BODY>
</HTML>
